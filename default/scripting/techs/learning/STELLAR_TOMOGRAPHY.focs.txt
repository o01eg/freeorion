Tech
    name = "LRN_STELLAR_TOMOGRAPHY"
    description = "LRN_STELLAR_TOMOGRAPHY_DESC"
    short_description = "RESEARCH_SHORT_DESC"
    category = "LEARNING_CATEGORY"
    researchcost = 125 * [[TECH_COST_MULTIPLIER]]
    researchturns = 6
    tags = [ "PEDIA_LEARNING_CATEGORY" ]
    prerequisites = "LRN_EVERYTHING"
    effectsgroups = [
        EffectsGroup
            scope = And [
                ProductionCenter
                OwnedBy empire = Source.Owner
                Star type = BlackHole
                Focus type = "FOCUS_RESEARCH"
            ]
            priority = [[TARGET_AFTER_SCALING_PRIORITY]]
            effects = SetTargetResearch value = Value + Target.Population
                        * (NamedReal name = "LRN_STELLAR_TOMO_BLACK_TARGET_RESEARCH_PERPOP"
                                     value = (1.0 * [[RESEARCH_PER_POP]]))

        EffectsGroup
            scope = And [
                ProductionCenter
                OwnedBy empire = Source.Owner
                Star type = Neutron
                Focus type = "FOCUS_RESEARCH"
            ]
            priority = [[TARGET_AFTER_SCALING_PRIORITY]]
            effects = SetTargetResearch value = Value + Target.Population
                        * (NamedReal name = "LRN_STELLAR_TOMO_NEUTRON_TARGET_RESEARCH_PERPOP"
                                     value = (0.75 * [[RESEARCH_PER_POP]]))

        EffectsGroup
            scope = And [
                ProductionCenter
                OwnedBy empire = Source.Owner
                Star type = [Blue White]
                Focus type = "FOCUS_RESEARCH"
            ]
            priority = [[TARGET_AFTER_SCALING_PRIORITY]]
            effects = SetTargetResearch value = Value + Target.Population
                        * (NamedReal name = "LRN_STELLAR_TOMO_BRIGHT_TARGET_RESEARCH_PERPOP"
                                     value = (0.5 * [[RESEARCH_PER_POP]]))

        EffectsGroup
            scope = And [
                ProductionCenter
                OwnedBy empire = Source.Owner
                Star type = [Red Orange Yellow]
                Focus type = "FOCUS_RESEARCH"
            ]
            priority = [[TARGET_AFTER_SCALING_PRIORITY]]
            effects = SetTargetResearch value = Value + Target.Population
                        * (NamedReal name = "LRN_STELLAR_TOMO_DIME_TARGET_RESEARCH_PERPOP"
                                     value = (0.25 * [[RESEARCH_PER_POP]]))
    ]
    graphic = "icons/tech/stellar_tomography.png"

#include "/scripting/common/base_prod.macros"
#include "/scripting/common/priorities.macros"
